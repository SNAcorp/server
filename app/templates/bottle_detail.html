{% extends "base.html" %}

{% block title %}Bottle Detail{% endblock %}

{% block style %}
<style>
    .bottle-detail {
        display: flex;
        align-items: flex-start;
    }
    .bottle-detail img {
        max-width: 300px;
        border-radius: 10px;
        box-shadow: 0 4px 8px rgba(0, 0, 0, 0.1);
        margin-right: 20px;
    }
    .bottle-info {
        flex: 1;
    }
    .bottle-info h2 {
        margin-bottom: 20px;
        color: #343a40;
    }
    .bottle-info label {
        font-weight: bold;
    }
    .bottle-info input, .bottle-info textarea {
        width: 100%;
        margin-bottom: 10px;
        padding: 10px;
        border-radius: 5px;
        border: 1px solid #ced4da;
        background-color: #f8f9fa;
    }
    .bottle-info .form-group {
        margin-bottom: 15px;
    }
    .bottle-info .btn-primary {
        background-color: #007bff;
        border: none;
        padding: 10px 20px;
        border-radius: 5px;
        transition: background-color 0.3s;
    }
    .bottle-info .btn-primary:hover {
        background-color: #0056b3;
    }
</style>
{% endblock %}

{% block content %}
<div class="container">
    <div class="bottle-detail">
        <div class="bottle-image">
            <img src="/bottles/image/{{bottle.id}}/{{600}}" alt="{{ bottle.name }}" id="bottle-image">
        </div>
        <div class="bottle-info">
            <h2>{{ bottle.name }}</h2>
            <form id="bottle-form" action="/bottlesz/update-bottle/{{ bottle.id }}" method="post" enctype="multipart/form-data" style="display: none;">
                <div class="form-group">
                    <label for="name">Name</label>
                    <input type="text" class="form-control" id="name" name="name" value="{{ bottle.name }}">
                </div>
                <div class="form-group">
                    <label for="winery">Winery</label>
                    <input type="text" class="form-control" id="winery" name="winery" value="{{ bottle.winery }}">
                </div>
                <div class="form-group">
                    <label for="rating_average">Rating Average</label>
                    <input type="number" step="0.1" class="form-control" id="rating_average" name="rating_average" value="{{ bottle.rating_average }}">
                </div>
                <div class="form-group">
                    <label for="location">Location</label>
                    <input type="text" class="form-control" id="location" name="location" value="{{ bottle.location }}">
                </div>
                <div class="form-group">
                    <label for="image_path300">Image (300x300)</label>
                    <input type="file" class="form-control-file" id="image_path300" name="image_path300">
                </div>
                <div class="form-group">
                    <label for="image_path600">Image (600x600)</label>
                    <input type="file" class="form-control-file" id="image_path600" name="image_path600">
                </div>
                <div class="form-group">
                    <label for="description">Description</label>
                    <textarea class="form-control" id="description" name="description" rows="4">{{ bottle.description }}</textarea>
                </div>
                <div class="form-group">
                    <label for="wine_type">Wine Type</label>
                    <input type="text" class="form-control" id="wine_type" name="wine_type" value="{{ bottle.wine_type }}">
                </div>
                <div class="form-group">
                    <label for="volume">Volume (ml)</label>
                    <input type="number" class="form-control" id="volume" name="volume" value="{{ bottle.volume }}">
                </div>
                <button type="submit" class="btn btn-primary">Save Changes</button>
            </form>
            <button id="edit-button" class="btn btn-primary">Edit</button>
        </div>
    </div>
</div>

<script>
    document.getElementById("edit-button").addEventListener("click", function() {
        document.getElementById("bottle-form").style.display = "block";
        this.style.display = "none";
    });
</script>
{% endblock %}
